function sn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function vr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ai(t){let n,e,i;t.length!==2?(n=sn,e=(s,f)=>sn(t(s),f),i=(s,f)=>t(s)-f):(n=t===sn||t===vr?t:xr,e=t,i=t);function r(s,f,u=0,h=s.length){if(u<h){if(n(f,f)!==0)return h;do{const c=u+h>>>1;e(s[c],f)<0?u=c+1:h=c}while(u<h)}return u}function o(s,f,u=0,h=s.length){if(u<h){if(n(f,f)!==0)return h;do{const c=u+h>>>1;e(s[c],f)<=0?u=c+1:h=c}while(u<h)}return u}function a(s,f,u=0,h=s.length){const c=r(s,f,u,h-1);return c>u&&i(s[c-1],f)>-i(s[c],f)?c-1:c}return{left:r,center:a,right:o}}function xr(){return 0}function Mr(t){return t===null?NaN:+t}const kr=Ai(sn),$r=kr.right;Ai(Mr).center;function Sr(t,n){let e=0;for(let i of t)i!=null&&(i=+i)>=i&&++e;return e}function Ar(t,n){let e,i;if(n===void 0)for(const r of t)r!=null&&(e===void 0?r>=r&&(e=i=r):(e>r&&(e=r),i<r&&(i=r)));else{let r=-1;for(let o of t)(o=n(o,++r,t))!=null&&(e===void 0?o>=o&&(e=i=o):(e>o&&(e=o),i<o&&(i=o)))}return[e,i]}class At{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],a=n+o,s=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);s&&(e[i++]=s),n=a}return e[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let e=this._n,i,r,o,a=0;if(e>0){for(a=n[--e];e>0&&(i=a,r=n[--e],a=i+r,o=r-(a-i),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(r=o*2,i=a+r,r==i-a&&(a=i))}return a}}class ze extends Map{constructor(n,e=Tr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[i,r]of n)this.set(i,r)}get(n){return super.get(Ie(this,n))}has(n){return super.has(Ie(this,n))}set(n,e){return super.set(Nr(this,n),e)}delete(n){return super.delete(Er(this,n))}}function Ie({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):e}function Nr({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}function Er({_intern:t,_key:n},e){const i=n(e);return t.has(i)&&(e=t.get(i),t.delete(i)),e}function Tr(t){return t!==null&&typeof t=="object"?t.valueOf():t}const zr=Math.sqrt(50),Ir=Math.sqrt(10),Cr=Math.sqrt(2);function dn(t,n,e){const i=(n-t)/Math.max(0,e),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=zr?10:o>=Ir?5:o>=Cr?2:1;let s,f,u;return r<0?(u=Math.pow(10,-r)/a,s=Math.round(t*u),f=Math.round(n*u),s/u<t&&++s,f/u>n&&--f,u=-u):(u=Math.pow(10,r)*a,s=Math.round(t/u),f=Math.round(n/u),s*u<t&&++s,f*u>n&&--f),f<s&&.5<=e&&e<2?dn(t,n,e*2):[s,f,u]}function gn(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const i=n<t,[r,o,a]=i?dn(n,t,e):dn(t,n,e);if(!(o>=r))return[];const s=o-r+1,f=new Array(s);if(i)if(a<0)for(let u=0;u<s;++u)f[u]=(o-u)/-a;else for(let u=0;u<s;++u)f[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)f[u]=(r+u)/-a;else for(let u=0;u<s;++u)f[u]=(r+u)*a;return f}function pn(t,n,e){return n=+n,t=+t,e=+e,dn(t,n,e)[2]}function Rr(t,n,e){n=+n,t=+t,e=+e;const i=n<t,r=i?pn(n,t,e):pn(t,n,e);return(i?-1:1)*(r<0?1/-r:r)}function Pr(t,n,e){let i;for(;;){const r=pn(t,n,e);if(r===i||r===0||!isFinite(r))return[t,n];r>0?(t=Math.floor(t/r)*r,n=Math.ceil(n/r)*r):r<0&&(t=Math.ceil(t*r)/r,n=Math.floor(n*r)/r),i=r}}function Fr(t){return Math.max(1,Math.ceil(Math.log(Sr(t))/Math.LN2)+1)}function fc(t,n){let e;if(n===void 0)for(const i of t)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of t)(r=n(r,++i,t))!=null&&(e<r||e===void 0&&r>=r)&&(e=r)}return e}function Lr(t,n,e){t=+t,n=+n,e=(r=arguments.length)<2?(n=t,t=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(r);++i<r;)o[i]=t+i*e;return o}function Dr(t){return t}var qn=1,fn=2,Qn=3,Ft=4,Ce=1e-6;function Xr(t){return"translate("+t+",0)"}function qr(t){return"translate(0,"+t+")"}function Or(t){return n=>+t(n)}function Hr(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Vr(){return!this.__axis}function be(t,n){var e=[],i=null,r=null,o=6,a=6,s=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===qn||t===Ft?-1:1,h=t===Ft||t===fn?"x":"y",c=t===qn||t===Qn?Xr:qr;function l(d){var g=i??(n.ticks?n.ticks.apply(n,e):n.domain()),_=r??(n.tickFormat?n.tickFormat.apply(n,e):Dr),b=Math.max(o,0)+s,m=n.range(),v=+m[0]+f,S=+m[m.length-1]+f,E=(n.bandwidth?Hr:Or)(n.copy(),f),A=d.selection?d.selection():d,I=A.selectAll(".domain").data([null]),C=A.selectAll(".tick").data(g,n).order(),R=C.exit(),M=C.enter().append("g").attr("class","tick"),k=C.select("line"),w=C.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(h+"2",u*o)),w=w.merge(M.append("text").attr("fill","currentColor").attr(h,u*b).attr("dy",t===qn?"0em":t===Qn?"0.71em":"0.32em")),d!==A&&(I=I.transition(d),C=C.transition(d),k=k.transition(d),w=w.transition(d),R=R.transition(d).attr("opacity",Ce).attr("transform",function(z){return isFinite(z=E(z))?c(z+f):this.getAttribute("transform")}),M.attr("opacity",Ce).attr("transform",function(z){var P=this.parentNode.__axis;return c((P&&isFinite(P=P(z))?P:E(z))+f)})),R.remove(),I.attr("d",t===Ft||t===fn?a?"M"+u*a+","+v+"H"+f+"V"+S+"H"+u*a:"M"+f+","+v+"V"+S:a?"M"+v+","+u*a+"V"+f+"H"+S+"V"+u*a:"M"+v+","+f+"H"+S),C.attr("opacity",1).attr("transform",function(z){return c(E(z)+f)}),k.attr(h+"2",u*o),w.attr(h,u*b).text(_),A.filter(Vr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===fn?"start":t===Ft?"end":"middle"),A.each(function(){this.__axis=E})}return l.scale=function(d){return arguments.length?(n=d,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),l):e.slice()},l.tickValues=function(d){return arguments.length?(i=d==null?null:Array.from(d),l):i&&i.slice()},l.tickFormat=function(d){return arguments.length?(r=d,l):r},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(s=+d,l):s},l.offset=function(d){return arguments.length?(f=+d,l):f},l}function uc(t){return be(fn,t)}function cc(t){return be(Qn,t)}function lc(t){return be(Ft,t)}var Yr={value:()=>{}};function we(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new un(e)}function un(t){this._=t}function Br(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}un.prototype=we.prototype={constructor:un,on:function(t,n){var e=this._,i=Br(t+"",e),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(t=i[o]).type)&&(r=Ur(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(r=(t=i[o]).type)e[r]=Re(e[r],t.name,n);else if(n==null)for(r in e)e[r]=Re(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new un(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function Ur(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function Re(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=Yr,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var Wn="http://www.w3.org/1999/xhtml";const Pe={svg:"http://www.w3.org/2000/svg",xhtml:Wn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Pe.hasOwnProperty(n)?{space:Pe[n],local:t}:t}function Gr(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Wn&&n.documentElement.namespaceURI===Wn?n.createElement(t):n.createElementNS(e,t)}}function Kr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ni(t){var n=Cn(t);return(n.local?Kr:Gr)(n)}function Zr(){}function ve(t){return t==null?Zr:function(){return this.querySelector(t)}}function Qr(t){typeof t!="function"&&(t=ve(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],a=o.length,s=i[r]=new Array(a),f,u,h=0;h<a;++h)(f=o[h])&&(u=t.call(f,f.__data__,h,o))&&("__data__"in f&&(u.__data__=f.__data__),s[h]=u);return new V(i,this._parents)}function Wr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Jr(){return[]}function Ei(t){return t==null?Jr:function(){return this.querySelectorAll(t)}}function jr(t){return function(){return Wr(t.apply(this,arguments))}}function to(t){typeof t=="function"?t=jr(t):t=Ei(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var a=n[o],s=a.length,f,u=0;u<s;++u)(f=a[u])&&(i.push(t.call(f,f.__data__,u,a)),r.push(f));return new V(i,r)}function Ti(t){return function(){return this.matches(t)}}function zi(t){return function(n){return n.matches(t)}}var no=Array.prototype.find;function eo(t){return function(){return no.call(this.children,t)}}function io(){return this.firstElementChild}function ro(t){return this.select(t==null?io:eo(typeof t=="function"?t:zi(t)))}var oo=Array.prototype.filter;function ao(){return Array.from(this.children)}function so(t){return function(){return oo.call(this.children,t)}}function fo(t){return this.selectAll(t==null?ao:so(typeof t=="function"?t:zi(t)))}function uo(t){typeof t!="function"&&(t=Ti(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],a=o.length,s=i[r]=[],f,u=0;u<a;++u)(f=o[u])&&t.call(f,f.__data__,u,o)&&s.push(f);return new V(i,this._parents)}function Ii(t){return new Array(t.length)}function co(){return new V(this._enter||this._groups.map(Ii),this._parents)}function mn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}mn.prototype={constructor:mn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function lo(t){return function(){return t}}function ho(t,n,e,i,r,o){for(var a=0,s,f=n.length,u=o.length;a<u;++a)(s=n[a])?(s.__data__=o[a],i[a]=s):e[a]=new mn(t,o[a]);for(;a<f;++a)(s=n[a])&&(r[a]=s)}function go(t,n,e,i,r,o,a){var s,f,u=new Map,h=n.length,c=o.length,l=new Array(h),d;for(s=0;s<h;++s)(f=n[s])&&(l[s]=d=a.call(f,f.__data__,s,n)+"",u.has(d)?r[s]=f:u.set(d,f));for(s=0;s<c;++s)d=a.call(t,o[s],s,o)+"",(f=u.get(d))?(i[s]=f,f.__data__=o[s],u.delete(d)):e[s]=new mn(t,o[s]);for(s=0;s<h;++s)(f=n[s])&&u.get(l[s])===f&&(r[s]=f)}function po(t){return t.__data__}function mo(t,n){if(!arguments.length)return Array.from(this,po);var e=n?go:ho,i=this._parents,r=this._groups;typeof t!="function"&&(t=lo(t));for(var o=r.length,a=new Array(o),s=new Array(o),f=new Array(o),u=0;u<o;++u){var h=i[u],c=r[u],l=c.length,d=_o(t.call(h,h&&h.__data__,u,i)),g=d.length,_=s[u]=new Array(g),b=a[u]=new Array(g),m=f[u]=new Array(l);e(h,c,_,b,m,d,n);for(var v=0,S=0,E,A;v<g;++v)if(E=_[v]){for(v>=S&&(S=v+1);!(A=b[S])&&++S<g;);E._next=A||null}}return a=new V(a,i),a._enter=s,a._exit=f,a}function _o(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yo(){return new V(this._exit||this._groups.map(Ii),this._parents)}function bo(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function wo(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,a=Math.min(r,o),s=new Array(r),f=0;f<a;++f)for(var u=e[f],h=i[f],c=u.length,l=s[f]=new Array(c),d,g=0;g<c;++g)(d=u[g]||h[g])&&(l[g]=d);for(;f<r;++f)s[f]=e[f];return new V(s,this._parents)}function vo(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],a;--r>=0;)(a=i[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function xo(t){t||(t=Mo);function n(c,l){return c&&l?t(c.__data__,l.__data__):!c-!l}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a=e[o],s=a.length,f=r[o]=new Array(s),u,h=0;h<s;++h)(u=a[h])&&(f[h]=u);f.sort(n)}return new V(r,this._parents).order()}function Mo(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ko(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $o(){return Array.from(this)}function So(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}function Ao(){let t=0;for(const n of this)++t;return t}function No(){return!this.node()}function Eo(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,a=r.length,s;o<a;++o)(s=r[o])&&t.call(s,s.__data__,o,r);return this}function To(t){return function(){this.removeAttribute(t)}}function zo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Io(t,n){return function(){this.setAttribute(t,n)}}function Co(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ro(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Po(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Fo(t,n){var e=Cn(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?zo:To:typeof n=="function"?e.local?Po:Ro:e.local?Co:Io)(e,n))}function Ci(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Lo(t){return function(){this.style.removeProperty(t)}}function Do(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Xo(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function qo(t,n,e){return arguments.length>1?this.each((n==null?Lo:typeof n=="function"?Xo:Do)(t,n,e??"")):Nt(this.node(),t)}function Nt(t,n){return t.style.getPropertyValue(n)||Ci(t).getComputedStyle(t,null).getPropertyValue(n)}function Oo(t){return function(){delete this[t]}}function Ho(t,n){return function(){this[t]=n}}function Vo(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Yo(t,n){return arguments.length>1?this.each((n==null?Oo:typeof n=="function"?Vo:Ho)(t,n)):this.node()[t]}function Ri(t){return t.trim().split(/^|\s+/)}function xe(t){return t.classList||new Pi(t)}function Pi(t){this._node=t,this._names=Ri(t.getAttribute("class")||"")}Pi.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Fi(t,n){for(var e=xe(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Li(t,n){for(var e=xe(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Bo(t){return function(){Fi(this,t)}}function Uo(t){return function(){Li(this,t)}}function Go(t,n){return function(){(n.apply(this,arguments)?Fi:Li)(this,t)}}function Ko(t,n){var e=Ri(t+"");if(arguments.length<2){for(var i=xe(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?Go:n?Bo:Uo)(e,n))}function Zo(){this.textContent=""}function Qo(t){return function(){this.textContent=t}}function Wo(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Jo(t){return arguments.length?this.each(t==null?Zo:(typeof t=="function"?Wo:Qo)(t)):this.node().textContent}function jo(){this.innerHTML=""}function ta(t){return function(){this.innerHTML=t}}function na(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function ea(t){return arguments.length?this.each(t==null?jo:(typeof t=="function"?na:ta)(t)):this.node().innerHTML}function ia(){this.nextSibling&&this.parentNode.appendChild(this)}function ra(){return this.each(ia)}function oa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function aa(){return this.each(oa)}function sa(t){var n=typeof t=="function"?t:Ni(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function fa(){return null}function ua(t,n){var e=typeof t=="function"?t:Ni(t),i=n==null?fa:typeof n=="function"?n:ve(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function ca(){var t=this.parentNode;t&&t.removeChild(this)}function la(){return this.each(ca)}function ha(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function da(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ga(t){return this.select(t?da:ha)}function pa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ma(t){return function(n){t.call(this,n,this.__data__)}}function _a(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function ya(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function ba(t,n,e){return function(){var i=this.__on,r,o=ma(n);if(i){for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function wa(t,n,e){var i=_a(t+""),r,o=i.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var f=0,u=s.length,h;f<u;++f)for(r=0,h=s[f];r<o;++r)if((a=i[r]).type===h.type&&a.name===h.name)return h.value}return}for(s=n?ba:ya,r=0;r<o;++r)this.each(s(i[r],n,e));return this}function Di(t,n,e){var i=Ci(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function va(t,n){return function(){return Di(this,t,n)}}function xa(t,n){return function(){return Di(this,t,n.apply(this,arguments))}}function Ma(t,n){return this.each((typeof n=="function"?xa:va)(t,n))}function*ka(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,a;r<o;++r)(a=i[r])&&(yield a)}var Xi=[null];function V(t,n){this._groups=t,this._parents=n}function Zt(){return new V([[document.documentElement]],Xi)}function $a(){return this}V.prototype=Zt.prototype={constructor:V,select:Qr,selectAll:to,selectChild:ro,selectChildren:fo,filter:uo,data:mo,enter:co,exit:yo,join:bo,merge:wo,selection:$a,order:vo,sort:xo,call:ko,nodes:$o,node:So,size:Ao,empty:No,each:Eo,attr:Fo,style:qo,property:Yo,classed:Ko,text:Jo,html:ea,raise:ra,lower:aa,append:sa,insert:ua,remove:la,clone:ga,datum:pa,on:wa,dispatch:Ma,[Symbol.iterator]:ka};function gt(t){return typeof t=="string"?new V([[document.querySelector(t)]],[document.documentElement]):new V([[t]],Xi)}function Sa(t){let n;for(;n=t.sourceEvent;)t=n;return t}function lt(t,n){if(t=Sa(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const Jn={capture:!0,passive:!1};function jn(t){t.preventDefault(),t.stopImmediatePropagation()}function Aa(t){var n=t.document.documentElement,e=gt(t).on("dragstart.drag",jn,Jn);"onselectstart"in n?e.on("selectstart.drag",jn,Jn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Na(t,n){var e=t.document.documentElement,i=gt(t).on("dragstart.drag",null);n&&(i.on("click.drag",jn,Jn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Me(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function qi(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Qt(){}var Vt=.7,_n=1/Vt,St="\\s*([+-]?\\d+)\\s*",Yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ea=/^#([0-9a-f]{3,8})$/,Ta=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),za=new RegExp(`^rgb\\(${tt},${tt},${tt}\\)$`),Ia=new RegExp(`^rgba\\(${St},${St},${St},${Yt}\\)$`),Ca=new RegExp(`^rgba\\(${tt},${tt},${tt},${Yt}\\)$`),Ra=new RegExp(`^hsl\\(${Yt},${tt},${tt}\\)$`),Pa=new RegExp(`^hsla\\(${Yt},${tt},${tt},${Yt}\\)$`),Fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Me(Qt,yt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Le,formatHex:Le,formatHex8:Fa,formatHsl:La,formatRgb:De,toString:De});function Le(){return this.rgb().formatHex()}function Fa(){return this.rgb().formatHex8()}function La(){return Oi(this).formatHsl()}function De(){return this.rgb().formatRgb()}function yt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ea.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Xe(n):e===3?new H(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?jt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?jt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ta.exec(t))?new H(n[1],n[2],n[3],1):(n=za.exec(t))?new H(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Ia.exec(t))?jt(n[1],n[2],n[3],n[4]):(n=Ca.exec(t))?jt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Ra.exec(t))?He(n[1],n[2]/100,n[3]/100,1):(n=Pa.exec(t))?He(n[1],n[2]/100,n[3]/100,n[4]):Fe.hasOwnProperty(t)?Xe(Fe[t]):t==="transparent"?new H(NaN,NaN,NaN,0):null}function Xe(t){return new H(t>>16&255,t>>8&255,t&255,1)}function jt(t,n,e,i){return i<=0&&(t=n=e=NaN),new H(t,n,e,i)}function Da(t){return t instanceof Qt||(t=yt(t)),t?(t=t.rgb(),new H(t.r,t.g,t.b,t.opacity)):new H}function yn(t,n,e,i){return arguments.length===1?Da(t):new H(t,n,e,i??1)}function H(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}Me(H,yn,qi(Qt,{brighter(t){return t=t==null?_n:Math.pow(_n,t),new H(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vt:Math.pow(Vt,t),new H(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new H(_t(this.r),_t(this.g),_t(this.b),bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qe,formatHex:qe,formatHex8:Xa,formatRgb:Oe,toString:Oe}));function qe(){return`#${pt(this.r)}${pt(this.g)}${pt(this.b)}`}function Xa(){return`#${pt(this.r)}${pt(this.g)}${pt(this.b)}${pt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Oe(){const t=bn(this.opacity);return`${t===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${t===1?")":`, ${t})`}`}function bn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pt(t){return t=_t(t),(t<16?"0":"")+t.toString(16)}function He(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new K(t,n,e,i)}function Oi(t){if(t instanceof K)return new K(t.h,t.s,t.l,t.opacity);if(t instanceof Qt||(t=yt(t)),!t)return new K;if(t instanceof K)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),a=NaN,s=o-r,f=(o+r)/2;return s?(n===o?a=(e-i)/s+(e<i)*6:e===o?a=(i-n)/s+2:a=(n-e)/s+4,s/=f<.5?o+r:2-o-r,a*=60):s=f>0&&f<1?0:a,new K(a,s,f,t.opacity)}function qa(t,n,e,i){return arguments.length===1?Oi(t):new K(t,n,e,i??1)}function K(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}Me(K,qa,qi(Qt,{brighter(t){return t=t==null?_n:Math.pow(_n,t),new K(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vt:Math.pow(Vt,t),new K(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new H(On(t>=240?t-240:t+120,r,i),On(t,r,i),On(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new K(Ve(this.h),tn(this.s),tn(this.l),bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bn(this.opacity);return`${t===1?"hsl(":"hsla("}${Ve(this.h)}, ${tn(this.s)*100}%, ${tn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ve(t){return t=(t||0)%360,t<0?t+360:t}function tn(t){return Math.max(0,Math.min(1,t||0))}function On(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}function Oa(t,n,e,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*i+a*r)/6}function Ha(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<n-1?t[i+2]:2*o-r;return Oa((e-i/n)*n,a,r,o,s)}}const ke=t=>()=>t;function Va(t,n){return function(e){return t+e*n}}function Ya(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function Ba(t){return(t=+t)==1?Hi:function(n,e){return e-n?Ya(n,e,t):ke(isNaN(n)?e:n)}}function Hi(t,n){var e=n-t;return e?Va(t,e):ke(isNaN(t)?n:t)}const wn=(function t(n){var e=Ba(n);function i(r,o){var a=e((r=yn(r)).r,(o=yn(o)).r),s=e(r.g,o.g),f=e(r.b,o.b),u=Hi(r.opacity,o.opacity);return function(h){return r.r=a(h),r.g=s(h),r.b=f(h),r.opacity=u(h),r+""}}return i.gamma=t,i})(1);function Ua(t){return function(n){var e=n.length,i=new Array(e),r=new Array(e),o=new Array(e),a,s;for(a=0;a<e;++a)s=yn(n[a]),i[a]=s.r||0,r[a]=s.g||0,o[a]=s.b||0;return i=t(i),r=t(r),o=t(o),s.opacity=1,function(f){return s.r=i(f),s.g=r(f),s.b=o(f),s+""}}}var Ga=Ua(Ha);function Ka(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,i=n.slice(),r;return function(o){for(r=0;r<e;++r)i[r]=t[r]*(1-o)+n[r]*o;return i}}function Za(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qa(t,n){var e=n?n.length:0,i=t?Math.min(e,t.length):0,r=new Array(i),o=new Array(e),a;for(a=0;a<i;++a)r[a]=Rn(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(s){for(a=0;a<i;++a)o[a]=r[a](s);return o}}function Wa(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function G(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ja(t,n){var e={},i={},r;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(r in n)r in t?e[r]=Rn(t[r],n[r]):i[r]=n[r];return function(o){for(r in e)i[r]=e[r](o);return i}}var te=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hn=new RegExp(te.source,"g");function ja(t){return function(){return t}}function ts(t){return function(n){return t(n)+""}}function Vi(t,n){var e=te.lastIndex=Hn.lastIndex=0,i,r,o,a=-1,s=[],f=[];for(t=t+"",n=n+"";(i=te.exec(t))&&(r=Hn.exec(n));)(o=r.index)>e&&(o=n.slice(e,o),s[a]?s[a]+=o:s[++a]=o),(i=i[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,f.push({i:a,x:G(i,r)})),e=Hn.lastIndex;return e<n.length&&(o=n.slice(e),s[a]?s[a]+=o:s[++a]=o),s.length<2?f[0]?ts(f[0].x):ja(n):(n=f.length,function(u){for(var h=0,c;h<n;++h)s[(c=f[h]).i]=c.x(u);return s.join("")})}function Rn(t,n){var e=typeof n,i;return n==null||e==="boolean"?ke(n):(e==="number"?G:e==="string"?(i=yt(n))?(n=i,wn):Vi:n instanceof yt?wn:n instanceof Date?Wa:Za(n)?Ka:Array.isArray(n)?Qa:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Ja:G)(t,n)}function Yi(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ye=180/Math.PI,ne={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bi(t,n,e,i,r,o){var a,s,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*i)&&(e-=t*f,i-=n*f),(s=Math.sqrt(e*e+i*i))&&(e/=s,i/=s,f/=s),t*i<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*Ye,skewX:Math.atan(f)*Ye,scaleX:a,scaleY:s}}var nn;function ns(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ne:Bi(n.a,n.b,n.c,n.d,n.e,n.f)}function es(t){return t==null||(nn||(nn=document.createElementNS("http://www.w3.org/2000/svg","g")),nn.setAttribute("transform",t),!(t=nn.transform.baseVal.consolidate()))?ne:(t=t.matrix,Bi(t.a,t.b,t.c,t.d,t.e,t.f))}function Ui(t,n,e,i){function r(u){return u.length?u.pop()+" ":""}function o(u,h,c,l,d,g){if(u!==c||h!==l){var _=d.push("translate(",null,n,null,e);g.push({i:_-4,x:G(u,c)},{i:_-2,x:G(h,l)})}else(c||l)&&d.push("translate("+c+n+l+e)}function a(u,h,c,l){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),l.push({i:c.push(r(c)+"rotate(",null,i)-2,x:G(u,h)})):h&&c.push(r(c)+"rotate("+h+i)}function s(u,h,c,l){u!==h?l.push({i:c.push(r(c)+"skewX(",null,i)-2,x:G(u,h)}):h&&c.push(r(c)+"skewX("+h+i)}function f(u,h,c,l,d,g){if(u!==c||h!==l){var _=d.push(r(d)+"scale(",null,",",null,")");g.push({i:_-4,x:G(u,c)},{i:_-2,x:G(h,l)})}else(c!==1||l!==1)&&d.push(r(d)+"scale("+c+","+l+")")}return function(u,h){var c=[],l=[];return u=t(u),h=t(h),o(u.translateX,u.translateY,h.translateX,h.translateY,c,l),a(u.rotate,h.rotate,c,l),s(u.skewX,h.skewX,c,l),f(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,l),u=h=null,function(d){for(var g=-1,_=l.length,b;++g<_;)c[(b=l[g]).i]=b.x(d);return c.join("")}}}var is=Ui(ns,"px, ","px)","deg)"),rs=Ui(es,", ",")",")"),os=1e-12;function Be(t){return((t=Math.exp(t))+1/t)/2}function as(t){return((t=Math.exp(t))-1/t)/2}function ss(t){return((t=Math.exp(2*t))-1)/(t+1)}const fs=(function t(n,e,i){function r(o,a){var s=o[0],f=o[1],u=o[2],h=a[0],c=a[1],l=a[2],d=h-s,g=c-f,_=d*d+g*g,b,m;if(_<os)m=Math.log(l/u)/n,b=function(C){return[s+C*d,f+C*g,u*Math.exp(n*C*m)]};else{var v=Math.sqrt(_),S=(l*l-u*u+i*_)/(2*u*e*v),E=(l*l-u*u-i*_)/(2*l*e*v),A=Math.log(Math.sqrt(S*S+1)-S),I=Math.log(Math.sqrt(E*E+1)-E);m=(I-A)/n,b=function(C){var R=C*m,M=Be(A),k=u/(e*v)*(M*ss(n*R+A)-as(A));return[s+k*d,f+k*g,u*M/Be(n*R+A)]}}return b.duration=m*1e3*n/Math.SQRT2,b}return r.rho=function(o){var a=Math.max(.001,+o),s=a*a,f=s*s;return t(a,s,f)},r})(Math.SQRT2,2,4);var Et=0,Lt=0,It=0,Gi=1e3,vn,Dt,xn=0,bt=0,Pn=0,Bt=typeof performance=="object"&&performance.now?performance:Date,Ki=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $e(){return bt||(Ki(us),bt=Bt.now()+Pn)}function us(){bt=0}function Mn(){this._call=this._time=this._next=null}Mn.prototype=Zi.prototype={constructor:Mn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?$e():+e)+(n==null?0:+n),!this._next&&Dt!==this&&(Dt?Dt._next=this:vn=this,Dt=this),this._call=t,this._time=e,ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,ee())}};function Zi(t,n,e){var i=new Mn;return i.restart(t,n,e),i}function cs(){$e(),++Et;for(var t=vn,n;t;)(n=bt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Et}function Ue(){bt=(xn=Bt.now())+Pn,Et=Lt=0;try{cs()}finally{Et=0,hs(),bt=0}}function ls(){var t=Bt.now(),n=t-xn;n>Gi&&(Pn-=n,xn=t)}function hs(){for(var t,n=vn,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:vn=e);Dt=t,ee(i)}function ee(t){if(!Et){Lt&&(Lt=clearTimeout(Lt));var n=t-bt;n>24?(t<1/0&&(Lt=setTimeout(Ue,t-Bt.now()-Pn)),It&&(It=clearInterval(It))):(It||(xn=Bt.now(),It=setInterval(ls,Gi)),Et=1,Ki(Ue))}}function Ge(t,n,e){var i=new Mn;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var ds=we("start","end","cancel","interrupt"),gs=[],Qi=0,Ke=1,ie=2,cn=3,Ze=4,re=5,ln=6;function Fn(t,n,e,i,r,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;ps(t,e,{name:n,index:i,group:r,on:ds,tween:gs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Qi})}function Se(t,n){var e=Q(t,n);if(e.state>Qi)throw new Error("too late; already scheduled");return e}function nt(t,n){var e=Q(t,n);if(e.state>cn)throw new Error("too late; already running");return e}function Q(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ps(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=Zi(o,0,e.time);function o(u){e.state=Ke,e.timer.restart(a,e.delay,e.time),e.delay<=u&&a(u-e.delay)}function a(u){var h,c,l,d;if(e.state!==Ke)return f();for(h in i)if(d=i[h],d.name===e.name){if(d.state===cn)return Ge(a);d.state===Ze?(d.state=ln,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[h]):+h<n&&(d.state=ln,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[h])}if(Ge(function(){e.state===cn&&(e.state=Ze,e.timer.restart(s,e.delay,e.time),s(u))}),e.state=ie,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ie){for(e.state=cn,r=new Array(l=e.tween.length),h=0,c=-1;h<l;++h)(d=e.tween[h].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=d);r.length=c+1}}function s(u){for(var h=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(f),e.state=re,1),c=-1,l=r.length;++c<l;)r[c].call(t,h);e.state===re&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){e.state=ln,e.timer.stop(),delete i[n];for(var u in i)return;delete t.__transition}}function hn(t,n){var e=t.__transition,i,r,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((i=e[a]).name!==n){o=!1;continue}r=i.state>ie&&i.state<re,i.state=ln,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[a]}o&&delete t.__transition}}function ms(t){return this.each(function(){hn(this,t)})}function _s(t,n){var e,i;return function(){var r=nt(this,t),o=r.tween;if(o!==e){i=e=o;for(var a=0,s=i.length;a<s;++a)if(i[a].name===n){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function ys(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=nt(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:n,value:e},f=0,u=r.length;f<u;++f)if(r[f].name===n){r[f]=s;break}f===u&&r.push(s)}o.tween=r}}function bs(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=Q(this.node(),e).tween,r=0,o=i.length,a;r<o;++r)if((a=i[r]).name===t)return a.value;return null}return this.each((n==null?_s:ys)(e,t,n))}function Ae(t,n,e){var i=t._id;return t.each(function(){var r=nt(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return Q(r,i).value[n]}}function Wi(t,n){var e;return(typeof n=="number"?G:n instanceof yt?wn:(e=yt(n))?(n=e,wn):Vi)(t,n)}function ws(t){return function(){this.removeAttribute(t)}}function vs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xs(t,n,e){var i,r=e+"",o;return function(){var a=this.getAttribute(t);return a===r?null:a===i?o:o=n(i=a,e)}}function Ms(t,n,e){var i,r=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===r?null:a===i?o:o=n(i=a,e)}}function ks(t,n,e){var i,r,o;return function(){var a,s=e(this),f;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=s+"",a===f?null:a===i&&f===r?o:(r=f,o=n(i=a,s)))}}function $s(t,n,e){var i,r,o;return function(){var a,s=e(this),f;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=s+"",a===f?null:a===i&&f===r?o:(r=f,o=n(i=a,s)))}}function Ss(t,n){var e=Cn(t),i=e==="transform"?rs:Wi;return this.attrTween(t,typeof n=="function"?(e.local?$s:ks)(e,i,Ae(this,"attr."+t,n)):n==null?(e.local?vs:ws)(e):(e.local?Ms:xs)(e,i,n))}function As(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ns(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Es(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&Ns(t,o)),e}return r._value=n,r}function Ts(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&As(t,o)),e}return r._value=n,r}function zs(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=Cn(t);return this.tween(e,(i.local?Es:Ts)(i,n))}function Is(t,n){return function(){Se(this,t).delay=+n.apply(this,arguments)}}function Cs(t,n){return n=+n,function(){Se(this,t).delay=n}}function Rs(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Is:Cs)(n,t)):Q(this.node(),n).delay}function Ps(t,n){return function(){nt(this,t).duration=+n.apply(this,arguments)}}function Fs(t,n){return n=+n,function(){nt(this,t).duration=n}}function Ls(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Ps:Fs)(n,t)):Q(this.node(),n).duration}function Ds(t,n){if(typeof n!="function")throw new Error;return function(){nt(this,t).ease=n}}function Xs(t){var n=this._id;return arguments.length?this.each(Ds(n,t)):Q(this.node(),n).ease}function qs(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;nt(this,t).ease=e}}function Os(t){if(typeof t!="function")throw new Error;return this.each(qs(this._id,t))}function Hs(t){typeof t!="function"&&(t=Ti(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],a=o.length,s=i[r]=[],f,u=0;u<a;++u)(f=o[u])&&t.call(f,f.__data__,u,o)&&s.push(f);return new ut(i,this._parents,this._name,this._id)}function Vs(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var f=n[s],u=e[s],h=f.length,c=a[s]=new Array(h),l,d=0;d<h;++d)(l=f[d]||u[d])&&(c[d]=l);for(;s<i;++s)a[s]=n[s];return new ut(a,this._parents,this._name,this._id)}function Ys(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Bs(t,n,e){var i,r,o=Ys(n)?Se:nt;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(n,e),a.on=r}}function Us(t,n){var e=this._id;return arguments.length<2?Q(this.node(),e).on.on(t):this.each(Bs(e,t,n))}function Gs(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Ks(){return this.on("end.remove",Gs(this._id))}function Zs(t){var n=this._name,e=this._id;typeof t!="function"&&(t=ve(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s=i[a],f=s.length,u=o[a]=new Array(f),h,c,l=0;l<f;++l)(h=s[l])&&(c=t.call(h,h.__data__,l,s))&&("__data__"in h&&(c.__data__=h.__data__),u[l]=c,Fn(u[l],n,e,l,u,Q(h,e)));return new ut(o,this._parents,n,e)}function Qs(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ei(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var f=i[s],u=f.length,h,c=0;c<u;++c)if(h=f[c]){for(var l=t.call(h,h.__data__,c,f),d,g=Q(h,e),_=0,b=l.length;_<b;++_)(d=l[_])&&Fn(d,n,e,_,l,g);o.push(l),a.push(h)}return new ut(o,a,n,e)}var Ws=Zt.prototype.constructor;function Js(){return new Ws(this._groups,this._parents)}function js(t,n){var e,i,r;return function(){var o=Nt(this,t),a=(this.style.removeProperty(t),Nt(this,t));return o===a?null:o===e&&a===i?r:r=n(e=o,i=a)}}function Ji(t){return function(){this.style.removeProperty(t)}}function tf(t,n,e){var i,r=e+"",o;return function(){var a=Nt(this,t);return a===r?null:a===i?o:o=n(i=a,e)}}function nf(t,n,e){var i,r,o;return function(){var a=Nt(this,t),s=e(this),f=s+"";return s==null&&(f=s=(this.style.removeProperty(t),Nt(this,t))),a===f?null:a===i&&f===r?o:(r=f,o=n(i=a,s))}}function ef(t,n){var e,i,r,o="style."+n,a="end."+o,s;return function(){var f=nt(this,t),u=f.on,h=f.value[o]==null?s||(s=Ji(n)):void 0;(u!==e||r!==h)&&(i=(e=u).copy()).on(a,r=h),f.on=i}}function rf(t,n,e){var i=(t+="")=="transform"?is:Wi;return n==null?this.styleTween(t,js(t,i)).on("end.style."+t,Ji(t)):typeof n=="function"?this.styleTween(t,nf(t,i,Ae(this,"style."+t,n))).each(ef(this._id,t)):this.styleTween(t,tf(t,i,n),e).on("end.style."+t,null)}function of(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function af(t,n,e){var i,r;function o(){var a=n.apply(this,arguments);return a!==r&&(i=(r=a)&&of(t,a,e)),i}return o._value=n,o}function sf(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,af(t,n,e??""))}function ff(t){return function(){this.textContent=t}}function uf(t){return function(){var n=t(this);this.textContent=n??""}}function cf(t){return this.tween("text",typeof t=="function"?uf(Ae(this,"text",t)):ff(t==null?"":t+""))}function lf(t){return function(n){this.textContent=t.call(this,n)}}function hf(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&lf(r)),n}return i._value=t,i}function df(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,hf(t))}function gf(){for(var t=this._name,n=this._id,e=ji(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,f,u=0;u<s;++u)if(f=a[u]){var h=Q(f,n);Fn(f,t,e,u,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ut(i,this._parents,t,e)}function pf(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,a){var s={value:a},f={value:function(){--r===0&&o()}};e.each(function(){var u=nt(this,i),h=u.on;h!==t&&(n=(t=h).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(f)),u.on=n}),r===0&&o()})}var mf=0;function ut(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function ji(){return++mf}var rt=Zt.prototype;ut.prototype={constructor:ut,select:Zs,selectAll:Qs,selectChild:rt.selectChild,selectChildren:rt.selectChildren,filter:Hs,merge:Vs,selection:Js,transition:gf,call:rt.call,nodes:rt.nodes,node:rt.node,size:rt.size,empty:rt.empty,each:rt.each,on:Us,attr:Ss,attrTween:zs,style:rf,styleTween:sf,text:cf,textTween:df,remove:Ks,tween:bs,delay:Rs,duration:Ls,ease:Xs,easeVarying:Os,end:pf,[Symbol.iterator]:rt[Symbol.iterator]};function _f(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var yf={time:null,delay:0,duration:250,ease:_f};function bf(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function wf(t){var n,e;t instanceof ut?(n=t._id,t=t._name):(n=ji(),(e=yf).time=$e(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,f,u=0;u<s;++u)(f=a[u])&&Fn(f,t,n,u,a,e||bf(f,n));return new ut(i,this._parents,t,n)}Zt.prototype.interrupt=ms;Zt.prototype.transition=wf;const oe=Math.PI,ae=2*oe,dt=1e-6,vf=ae-dt;function tr(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function xf(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return tr;const e=10**n;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}let Mf=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?tr:xf(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,r){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(n,e,i,r,o,a){this._append`C${+n},${+e},${+i},${+r},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,i,r,o){if(n=+n,e=+e,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,f=i-n,u=r-e,h=a-n,c=s-e,l=h*h+c*c;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>dt)if(!(Math.abs(c*f-u*h)>dt)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=i-a,g=r-s,_=f*f+u*u,b=d*d+g*g,m=Math.sqrt(_),v=Math.sqrt(l),S=o*Math.tan((oe-Math.acos((_+l-b)/(2*m*v)))/2),E=S/v,A=S/m;Math.abs(E-1)>dt&&this._append`L${n+E*h},${e+E*c}`,this._append`A${o},${o},0,0,${+(c*d>h*g)},${this._x1=n+A*f},${this._y1=e+A*u}`}}arc(n,e,i,r,o,a){if(n=+n,e=+e,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(r),f=i*Math.sin(r),u=n+s,h=e+f,c=1^a,l=a?r-o:o-r;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>dt||Math.abs(this._y1-h)>dt)&&this._append`L${u},${h}`,i&&(l<0&&(l=l%ae+ae),l>vf?this._append`A${i},${i},0,1,${c},${n-s},${e-f}A${i},${i},0,1,${c},${this._x1=u},${this._y1=h}`:l>dt&&this._append`A${i},${i},0,${+(l>=oe)},${c},${this._x1=n+i*Math.cos(o)},${this._y1=e+i*Math.sin(o)}`)}rect(n,e,i,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};var kf=Array.prototype,$f=kf.slice;function Sf(t,n){return t-n}function Af(t){for(var n=0,e=t.length,i=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)i+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return i}const Qe=t=>()=>t;function Nf(t,n){for(var e=-1,i=n.length,r;++e<i;)if(r=Ef(t,n[e]))return r;return 0}function Ef(t,n){for(var e=n[0],i=n[1],r=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var f=t[o],u=f[0],h=f[1],c=t[s],l=c[0],d=c[1];if(Tf(f,c,n))return 0;h>i!=d>i&&e<(l-u)*(i-h)/(d-h)+u&&(r=-r)}return r}function Tf(t,n,e){var i;return zf(t,n,e)&&If(t[i=+(t[0]===n[0])],e[i],n[i])}function zf(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function If(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function Cf(){}var ot=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function dc(){var t=1,n=1,e=Fr,i=f;function r(u){var h=e(u);if(Array.isArray(h))h=h.slice().sort(Sf);else{const c=Ar(u,Rf);for(h=gn(...Pr(c[0],c[1],h),h);h[h.length-1]>=c[1];)h.pop();for(;h[1]<c[0];)h.shift()}return h.map(c=>o(u,c))}function o(u,h){const c=h==null?NaN:+h;if(isNaN(c))throw new Error(`invalid value: ${h}`);var l=[],d=[];return a(u,c,function(g){i(g,u,c),Af(g)>0?l.push([g]):d.push(g)}),d.forEach(function(g){for(var _=0,b=l.length,m;_<b;++_)if(Nf((m=l[_])[0],g)!==-1){m.push(g);return}}),{type:"MultiPolygon",value:h,coordinates:l}}function a(u,h,c){var l=new Array,d=new Array,g,_,b,m,v,S;for(g=_=-1,m=ht(u[0],h),ot[m<<1].forEach(E);++g<t-1;)b=m,m=ht(u[g+1],h),ot[b|m<<1].forEach(E);for(ot[m<<0].forEach(E);++_<n-1;){for(g=-1,m=ht(u[_*t+t],h),v=ht(u[_*t],h),ot[m<<1|v<<2].forEach(E);++g<t-1;)b=m,m=ht(u[_*t+t+g+1],h),S=v,v=ht(u[_*t+g+1],h),ot[b|m<<1|v<<2|S<<3].forEach(E);ot[m|v<<3].forEach(E)}for(g=-1,v=u[_*t]>=h,ot[v<<2].forEach(E);++g<t-1;)S=v,v=ht(u[_*t+g+1],h),ot[v<<2|S<<3].forEach(E);ot[v<<3].forEach(E);function E(A){var I=[A[0][0]+g,A[0][1]+_],C=[A[1][0]+g,A[1][1]+_],R=s(I),M=s(C),k,w;(k=d[R])?(w=l[M])?(delete d[k.end],delete l[w.start],k===w?(k.ring.push(C),c(k.ring)):l[k.start]=d[w.end]={start:k.start,end:w.end,ring:k.ring.concat(w.ring)}):(delete d[k.end],k.ring.push(C),d[k.end=M]=k):(k=l[M])?(w=d[R])?(delete l[k.start],delete d[w.end],k===w?(k.ring.push(C),c(k.ring)):l[w.start]=d[k.end]={start:w.start,end:k.end,ring:w.ring.concat(k.ring)}):(delete l[k.start],k.ring.unshift(I),l[k.start=R]=k):l[R]=d[M]={start:R,end:M,ring:[I,C]}}}function s(u){return u[0]*2+u[1]*(t+1)*4}function f(u,h,c){u.forEach(function(l){var d=l[0],g=l[1],_=d|0,b=g|0,m=Vn(h[b*t+_]);d>0&&d<t&&_===d&&(l[0]=We(d,Vn(h[b*t+_-1]),m,c)),g>0&&g<n&&b===g&&(l[1]=We(g,Vn(h[(b-1)*t+_]),m,c))})}return r.contour=o,r.size=function(u){if(!arguments.length)return[t,n];var h=Math.floor(u[0]),c=Math.floor(u[1]);if(!(h>=0&&c>=0))throw new Error("invalid size");return t=h,n=c,r},r.thresholds=function(u){return arguments.length?(e=typeof u=="function"?u:Array.isArray(u)?Qe($f.call(u)):Qe(u),r):e},r.smooth=function(u){return arguments.length?(i=u?f:Cf,r):i===f},r}function Rf(t){return isFinite(t)?t:NaN}function ht(t,n){return t==null?!1:+t>=n}function Vn(t){return t==null||isNaN(t=+t)?-1/0:t}function We(t,n,e,i){const r=i-n,o=e-n,a=isFinite(r)||isFinite(o)?r/o:Math.sign(r)/Math.sign(o);return isNaN(a)?t:t+a-.5}const ft=11102230246251565e-32,q=134217729,Pf=(3+8*ft)*ft;function Yn(t,n,e,i,r){let o,a,s,f,u=n[0],h=i[0],c=0,l=0;h>u==h>-u?(o=u,u=n[++c]):(o=h,h=i[++l]);let d=0;if(c<t&&l<e)for(h>u==h>-u?(a=u+o,s=o-(a-u),u=n[++c]):(a=h+o,s=o-(a-h),h=i[++l]),o=a,s!==0&&(r[d++]=s);c<t&&l<e;)h>u==h>-u?(a=o+u,f=a-o,s=o-(a-f)+(u-f),u=n[++c]):(a=o+h,f=a-o,s=o-(a-f)+(h-f),h=i[++l]),o=a,s!==0&&(r[d++]=s);for(;c<t;)a=o+u,f=a-o,s=o-(a-f)+(u-f),u=n[++c],o=a,s!==0&&(r[d++]=s);for(;l<e;)a=o+h,f=a-o,s=o-(a-f)+(h-f),h=i[++l],o=a,s!==0&&(r[d++]=s);return(o!==0||d===0)&&(r[d++]=o),d}function Ff(t,n){let e=n[0];for(let i=1;i<t;i++)e+=n[i];return e}function Wt(t){return new Float64Array(t)}const Lf=(3+16*ft)*ft,Df=(2+12*ft)*ft,Xf=(9+64*ft)*ft*ft,vt=Wt(4),Je=Wt(8),je=Wt(12),ti=Wt(16),O=Wt(4);function qf(t,n,e,i,r,o,a){let s,f,u,h,c,l,d,g,_,b,m,v,S,E,A,I,C,R;const M=t-r,k=e-r,w=n-o,z=i-o;E=M*z,l=q*M,d=l-(l-M),g=M-d,l=q*z,_=l-(l-z),b=z-_,A=g*b-(E-d*_-g*_-d*b),I=w*k,l=q*w,d=l-(l-w),g=w-d,l=q*k,_=l-(l-k),b=k-_,C=g*b-(I-d*_-g*_-d*b),m=A-C,c=A-m,vt[0]=A-(m+c)+(c-C),v=E+m,c=v-E,S=E-(v-c)+(m-c),m=S-I,c=S-m,vt[1]=S-(m+c)+(c-I),R=v+m,c=R-v,vt[2]=v-(R-c)+(m-c),vt[3]=R;let P=Ff(4,vt),p=Df*a;if(P>=p||-P>=p||(c=t-M,s=t-(M+c)+(c-r),c=e-k,u=e-(k+c)+(c-r),c=n-w,f=n-(w+c)+(c-o),c=i-z,h=i-(z+c)+(c-o),s===0&&f===0&&u===0&&h===0)||(p=Xf*a+Pf*Math.abs(P),P+=M*h+z*s-(w*u+k*f),P>=p||-P>=p))return P;E=s*z,l=q*s,d=l-(l-s),g=s-d,l=q*z,_=l-(l-z),b=z-_,A=g*b-(E-d*_-g*_-d*b),I=f*k,l=q*f,d=l-(l-f),g=f-d,l=q*k,_=l-(l-k),b=k-_,C=g*b-(I-d*_-g*_-d*b),m=A-C,c=A-m,O[0]=A-(m+c)+(c-C),v=E+m,c=v-E,S=E-(v-c)+(m-c),m=S-I,c=S-m,O[1]=S-(m+c)+(c-I),R=v+m,c=R-v,O[2]=v-(R-c)+(m-c),O[3]=R;const $=Yn(4,vt,4,O,Je);E=M*h,l=q*M,d=l-(l-M),g=M-d,l=q*h,_=l-(l-h),b=h-_,A=g*b-(E-d*_-g*_-d*b),I=w*u,l=q*w,d=l-(l-w),g=w-d,l=q*u,_=l-(l-u),b=u-_,C=g*b-(I-d*_-g*_-d*b),m=A-C,c=A-m,O[0]=A-(m+c)+(c-C),v=E+m,c=v-E,S=E-(v-c)+(m-c),m=S-I,c=S-m,O[1]=S-(m+c)+(c-I),R=v+m,c=R-v,O[2]=v-(R-c)+(m-c),O[3]=R;const y=Yn($,Je,4,O,je);E=s*h,l=q*s,d=l-(l-s),g=s-d,l=q*h,_=l-(l-h),b=h-_,A=g*b-(E-d*_-g*_-d*b),I=f*u,l=q*f,d=l-(l-f),g=f-d,l=q*u,_=l-(l-u),b=u-_,C=g*b-(I-d*_-g*_-d*b),m=A-C,c=A-m,O[0]=A-(m+c)+(c-C),v=E+m,c=v-E,S=E-(v-c)+(m-c),m=S-I,c=S-m,O[1]=S-(m+c)+(c-I),R=v+m,c=R-v,O[2]=v-(R-c)+(m-c),O[3]=R;const x=Yn(y,je,4,O,ti);return ti[x-1]}function en(t,n,e,i,r,o){const a=(n-o)*(e-r),s=(t-r)*(i-o),f=a-s,u=Math.abs(a+s);return Math.abs(f)>=Lf*u?f:-qf(t,n,e,i,r,o,u)}const ni=Math.pow(2,-52),rn=new Uint32Array(512);class kn{static from(n,e=Bf,i=Uf){const r=n.length,o=new Float64Array(r*2);for(let a=0;a<r;a++){const s=n[a];o[2*a]=e(s),o[2*a+1]=i(s)}return new kn(o)}constructor(n){const e=n.length>>1;if(e>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const i=Math.max(2*e-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:n,_hullPrev:e,_hullNext:i,_hullTri:r,_hullHash:o}=this,a=n.length>>1;let s=1/0,f=1/0,u=-1/0,h=-1/0;for(let M=0;M<a;M++){const k=n[2*M],w=n[2*M+1];k<s&&(s=k),w<f&&(f=w),k>u&&(u=k),w>h&&(h=w),this._ids[M]=M}const c=(s+u)/2,l=(f+h)/2;let d,g,_;for(let M=0,k=1/0;M<a;M++){const w=Bn(c,l,n[2*M],n[2*M+1]);w<k&&(d=M,k=w)}const b=n[2*d],m=n[2*d+1];for(let M=0,k=1/0;M<a;M++){if(M===d)continue;const w=Bn(b,m,n[2*M],n[2*M+1]);w<k&&w>0&&(g=M,k=w)}let v=n[2*g],S=n[2*g+1],E=1/0;for(let M=0;M<a;M++){if(M===d||M===g)continue;const k=Vf(b,m,v,S,n[2*M],n[2*M+1]);k<E&&(_=M,E=k)}let A=n[2*_],I=n[2*_+1];if(E===1/0){for(let w=0;w<a;w++)this._dists[w]=n[2*w]-n[0]||n[2*w+1]-n[1];kt(this._ids,this._dists,0,a-1);const M=new Uint32Array(a);let k=0;for(let w=0,z=-1/0;w<a;w++){const P=this._ids[w],p=this._dists[P];p>z&&(M[k++]=P,z=p)}this.hull=M.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(en(b,m,v,S,A,I)<0){const M=g,k=v,w=S;g=_,v=A,S=I,_=M,A=k,I=w}const C=Yf(b,m,v,S,A,I);this._cx=C.x,this._cy=C.y;for(let M=0;M<a;M++)this._dists[M]=Bn(n[2*M],n[2*M+1],C.x,C.y);kt(this._ids,this._dists,0,a-1),this._hullStart=d;let R=3;i[d]=e[_]=g,i[g]=e[d]=_,i[_]=e[g]=d,r[d]=0,r[g]=1,r[_]=2,o.fill(-1),o[this._hashKey(b,m)]=d,o[this._hashKey(v,S)]=g,o[this._hashKey(A,I)]=_,this.trianglesLen=0,this._addTriangle(d,g,_,-1,-1,-1);for(let M=0,k,w;M<this._ids.length;M++){const z=this._ids[M],P=n[2*z],p=n[2*z+1];if(M>0&&Math.abs(P-k)<=ni&&Math.abs(p-w)<=ni||(k=P,w=p,z===d||z===g||z===_))continue;let $=0;for(let F=0,L=this._hashKey(P,p);F<this._hashSize&&($=o[(L+F)%this._hashSize],!($!==-1&&$!==i[$]));F++);$=e[$];let y=$,x;for(;x=i[y],en(P,p,n[2*y],n[2*y+1],n[2*x],n[2*x+1])>=0;)if(y=x,y===$){y=-1;break}if(y===-1)continue;let T=this._addTriangle(y,z,i[y],-1,-1,r[y]);r[z]=this._legalize(T+2),r[y]=T,R++;let N=i[y];for(;x=i[N],en(P,p,n[2*N],n[2*N+1],n[2*x],n[2*x+1])<0;)T=this._addTriangle(N,z,x,r[z],-1,r[N]),r[z]=this._legalize(T+2),i[N]=N,R--,N=x;if(y===$)for(;x=e[y],en(P,p,n[2*x],n[2*x+1],n[2*y],n[2*y+1])<0;)T=this._addTriangle(x,z,y,-1,r[y],r[x]),this._legalize(T+2),r[x]=T,i[y]=y,R--,y=x;this._hullStart=e[z]=y,i[y]=e[N]=z,i[z]=N,o[this._hashKey(P,p)]=z,o[this._hashKey(n[2*y],n[2*y+1])]=y}this.hull=new Uint32Array(R);for(let M=0,k=this._hullStart;M<R;M++)this.hull[M]=k,k=i[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,e){return Math.floor(Of(n-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:e,_halfedges:i,coords:r}=this;let o=0,a=0;for(;;){const s=i[n],f=n-n%3;if(a=f+(n+2)%3,s===-1){if(o===0)break;n=rn[--o];continue}const u=s-s%3,h=f+(n+1)%3,c=u+(s+2)%3,l=e[a],d=e[n],g=e[h],_=e[c];if(Hf(r[2*l],r[2*l+1],r[2*d],r[2*d+1],r[2*g],r[2*g+1],r[2*_],r[2*_+1])){e[n]=_,e[s]=l;const m=i[c];if(m===-1){let S=this._hullStart;do{if(this._hullTri[S]===c){this._hullTri[S]=n;break}S=this._hullPrev[S]}while(S!==this._hullStart)}this._link(n,m),this._link(s,i[a]),this._link(a,c);const v=u+(s+1)%3;o<rn.length&&(rn[o++]=v)}else{if(o===0)break;n=rn[--o]}}return a}_link(n,e){this._halfedges[n]=e,e!==-1&&(this._halfedges[e]=n)}_addTriangle(n,e,i,r,o,a){const s=this.trianglesLen;return this._triangles[s]=n,this._triangles[s+1]=e,this._triangles[s+2]=i,this._link(s,r),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function Of(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}function Bn(t,n,e,i){const r=t-e,o=n-i;return r*r+o*o}function Hf(t,n,e,i,r,o,a,s){const f=t-a,u=n-s,h=e-a,c=i-s,l=r-a,d=o-s,g=f*f+u*u,_=h*h+c*c,b=l*l+d*d;return f*(c*b-_*d)-u*(h*b-_*l)+g*(h*d-c*l)<0}function Vf(t,n,e,i,r,o){const a=e-t,s=i-n,f=r-t,u=o-n,h=a*a+s*s,c=f*f+u*u,l=.5/(a*u-s*f),d=(u*h-s*c)*l,g=(a*c-f*h)*l;return d*d+g*g}function Yf(t,n,e,i,r,o){const a=e-t,s=i-n,f=r-t,u=o-n,h=a*a+s*s,c=f*f+u*u,l=.5/(a*u-s*f),d=t+(u*h-s*c)*l,g=n+(a*c-f*h)*l;return{x:d,y:g}}function kt(t,n,e,i){if(i-e<=20)for(let r=e+1;r<=i;r++){const o=t[r],a=n[o];let s=r-1;for(;s>=e&&n[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const r=e+i>>1;let o=e+1,a=i;Ct(t,r,o),n[t[e]]>n[t[i]]&&Ct(t,e,i),n[t[o]]>n[t[i]]&&Ct(t,o,i),n[t[e]]>n[t[o]]&&Ct(t,e,o);const s=t[o],f=n[s];for(;;){do o++;while(n[t[o]]<f);do a--;while(n[t[a]]>f);if(a<o)break;Ct(t,o,a)}t[e+1]=t[a],t[a]=s,i-o+1>=a-e?(kt(t,n,o,i),kt(t,n,e,a-1)):(kt(t,n,e,a-1),kt(t,n,o,i))}}function Ct(t,n,e){const i=t[n];t[n]=t[e],t[e]=i}function Bf(t){return t[0]}function Uf(t){return t[1]}const ei=1e-6;class mt{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,e){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,e){this._+=`L${this._x1=+n},${this._y1=+e}`}arc(n,e,i){n=+n,e=+e,i=+i;const r=n+i,o=e;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${o}`:(Math.abs(this._x1-r)>ei||Math.abs(this._y1-o)>ei)&&(this._+="L"+r+","+o),i&&(this._+=`A${i},${i},0,1,1,${n-i},${e}A${i},${i},0,1,1,${this._x1=r},${this._y1=o}`)}rect(n,e,i,r){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class se{constructor(){this._=[]}moveTo(n,e){this._.push([n,e])}closePath(){this._.push(this._[0].slice())}lineTo(n,e){this._.push([n,e])}value(){return this._.length?this._:null}}class Gf{constructor(n,[e,i,r,o]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((o=+o)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=r,this.xmin=e,this.ymax=o,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:e,triangles:i},vectors:r}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let _=0,b=0,m=i.length,v,S;_<m;_+=3,b+=2){const E=i[_]*2,A=i[_+1]*2,I=i[_+2]*2,C=n[E],R=n[E+1],M=n[A],k=n[A+1],w=n[I],z=n[I+1],P=M-C,p=k-R,$=w-C,y=z-R,x=(P*y-p*$)*2;if(Math.abs(x)<1e-9){if(o===void 0){o=a=0;for(const N of e)o+=n[N*2],a+=n[N*2+1];o/=e.length,a/=e.length}const T=1e9*Math.sign((o-C)*y-(a-R)*$);v=(C+w)/2-T*y,S=(R+z)/2+T*$}else{const T=1/x,N=P*P+p*p,F=$*$+y*y;v=C+(y*N-p*F)*T,S=R+(P*F-$*N)*T}s[b]=v,s[b+1]=S}let f=e[e.length-1],u,h=f*4,c,l=n[2*f],d,g=n[2*f+1];r.fill(0);for(let _=0;_<e.length;++_)f=e[_],u=h,c=l,d=g,h=f*4,l=n[2*f],g=n[2*f+1],r[u+2]=r[h]=d-g,r[u+3]=r[h+1]=l-c}render(n){const e=n==null?n=new mt:void 0,{delaunay:{halfedges:i,inedges:r,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let h=0,c=i.length;h<c;++h){const l=i[h];if(l<h)continue;const d=Math.floor(h/3)*2,g=Math.floor(l/3)*2,_=a[d],b=a[d+1],m=a[g],v=a[g+1];this._renderSegment(_,b,m,v,n)}let f,u=o[o.length-1];for(let h=0;h<o.length;++h){f=u,u=o[h];const c=Math.floor(r[u]/3)*2,l=a[c],d=a[c+1],g=f*4,_=this._project(l,d,s[g+2],s[g+3]);_&&this._renderSegment(l,d,_[0],_[1],n)}return e&&e.value()}renderBounds(n){const e=n==null?n=new mt:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(n,e){const i=e==null?e=new mt:void 0,r=this._clip(n);if(r===null||!r.length)return;e.moveTo(r[0],r[1]);let o=r.length;for(;r[0]===r[o-2]&&r[1]===r[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(r[a]!==r[a-2]||r[a+1]!==r[a-1])&&e.lineTo(r[a],r[a+1]);return e.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let e=0,i=n.length/2;e<i;++e){const r=this.cellPolygon(e);r&&(r.index=e,yield r)}}cellPolygon(n){const e=new se;return this.renderCell(n,e),e.value()}_renderSegment(n,e,i,r,o){let a;const s=this._regioncode(n,e),f=this._regioncode(i,r);s===0&&f===0?(o.moveTo(n,e),o.lineTo(i,r)):(a=this._clipSegment(n,e,i,r,s,f))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(n,e,i){return e=+e,e!==e||(i=+i,i!==i)?!1:this.delaunay._step(n,e,i)===n}*neighbors(n){const e=this._clip(n);if(e)for(const i of this.delaunay.neighbors(n)){const r=this._clip(i);if(r){t:for(let o=0,a=e.length;o<a;o+=2)for(let s=0,f=r.length;s<f;s+=2)if(e[o]===r[s]&&e[o+1]===r[s+1]&&e[(o+2)%a]===r[(s+f-2)%f]&&e[(o+3)%a]===r[(s+f-1)%f]){yield i;break t}}}}_cell(n){const{circumcenters:e,delaunay:{inedges:i,halfedges:r,triangles:o}}=this,a=i[n];if(a===-1)return null;const s=[];let f=a;do{const u=Math.floor(f/3);if(s.push(e[u*2],e[u*2+1]),f=f%3===2?f-2:f+1,o[f]!==n)break;f=r[f]}while(f!==a&&f!==-1);return s}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(n);if(e===null)return null;const{vectors:i}=this,r=n*4;return this._simplify(i[r]||i[r+1]?this._clipInfinite(n,e,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(n,e))}_clipFinite(n,e){const i=e.length;let r=null,o,a,s=e[i-2],f=e[i-1],u,h=this._regioncode(s,f),c,l=0;for(let d=0;d<i;d+=2)if(o=s,a=f,s=e[d],f=e[d+1],u=h,h=this._regioncode(s,f),u===0&&h===0)c=l,l=0,r?r.push(s,f):r=[s,f];else{let g,_,b,m,v;if(u===0){if((g=this._clipSegment(o,a,s,f,u,h))===null)continue;[_,b,m,v]=g}else{if((g=this._clipSegment(s,f,o,a,h,u))===null)continue;[m,v,_,b]=g,c=l,l=this._edgecode(_,b),c&&l&&this._edge(n,c,l,r,r.length),r?r.push(_,b):r=[_,b]}c=l,l=this._edgecode(m,v),c&&l&&this._edge(n,c,l,r,r.length),r?r.push(m,v):r=[m,v]}if(r)c=l,l=this._edgecode(r[0],r[1]),c&&l&&this._edge(n,c,l,r,r.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(n,e,i,r,o,a){const s=o<a;for(s&&([n,e,i,r,o,a]=[i,r,n,e,a,o]);;){if(o===0&&a===0)return s?[i,r,n,e]:[n,e,i,r];if(o&a)return null;let f,u,h=o||a;h&8?(f=n+(i-n)*(this.ymax-e)/(r-e),u=this.ymax):h&4?(f=n+(i-n)*(this.ymin-e)/(r-e),u=this.ymin):h&2?(u=e+(r-e)*(this.xmax-n)/(i-n),f=this.xmax):(u=e+(r-e)*(this.xmin-n)/(i-n),f=this.xmin),o?(n=f,e=u,o=this._regioncode(n,e)):(i=f,r=u,a=this._regioncode(i,r))}}_clipInfinite(n,e,i,r,o,a){let s=Array.from(e),f;if((f=this._project(s[0],s[1],i,r))&&s.unshift(f[0],f[1]),(f=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(f[0],f[1]),s=this._clipFinite(n,s))for(let u=0,h=s.length,c,l=this._edgecode(s[h-2],s[h-1]);u<h;u+=2)c=l,l=this._edgecode(s[u],s[u+1]),c&&l&&(u=this._edge(n,c,l,s,u),h=s.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(n,e,i,r,o){for(;e!==i;){let a,s;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,s=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,s=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,s=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,s=this.ymin;break}(r[o]!==a||r[o+1]!==s)&&this.contains(n,a,s)&&(r.splice(o,0,a,s),o+=2)}return o}_project(n,e,i,r){let o=1/0,a,s,f;if(r<0){if(e<=this.ymin)return null;(a=(this.ymin-e)/r)<o&&(f=this.ymin,s=n+(o=a)*i)}else if(r>0){if(e>=this.ymax)return null;(a=(this.ymax-e)/r)<o&&(f=this.ymax,s=n+(o=a)*i)}if(i>0){if(n>=this.xmax)return null;(a=(this.xmax-n)/i)<o&&(s=this.xmax,f=e+(o=a)*r)}else if(i<0){if(n<=this.xmin)return null;(a=(this.xmin-n)/i)<o&&(s=this.xmin,f=e+(o=a)*r)}return[s,f]}_edgecode(n,e){return(n===this.xmin?1:n===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(n,e){return(n<this.xmin?1:n>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(n){if(n&&n.length>4){for(let e=0;e<n.length;e+=2){const i=(e+2)%n.length,r=(e+4)%n.length;(n[e]===n[i]&&n[i]===n[r]||n[e+1]===n[i+1]&&n[i+1]===n[r+1])&&(n.splice(i,2),e-=2)}n.length||(n=null)}return n}}const Kf=2*Math.PI,xt=Math.pow;function Zf(t){return t[0]}function Qf(t){return t[1]}function Wf(t){const{triangles:n,coords:e}=t;for(let i=0;i<n.length;i+=3){const r=2*n[i],o=2*n[i+1],a=2*n[i+2];if((e[a]-e[r])*(e[o+1]-e[r+1])-(e[o]-e[r])*(e[a+1]-e[r+1])>1e-10)return!1}return!0}function Jf(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class nr{static from(n,e=Zf,i=Qf,r){return new nr("length"in n?jf(n,e,i,r):Float64Array.from(tu(n,e,i,r)))}constructor(n){this._delaunator=new kn(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,e=this.points;if(n.hull&&n.hull.length>2&&Wf(n)){this.collinear=Int32Array.from({length:e.length/2},(l,d)=>d).sort((l,d)=>e[2*l]-e[2*d]||e[2*l+1]-e[2*d+1]);const f=this.collinear[0],u=this.collinear[this.collinear.length-1],h=[e[2*f],e[2*f+1],e[2*u],e[2*u+1]],c=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let l=0,d=e.length/2;l<d;++l){const g=Jf(e[2*l],e[2*l+1],c);e[2*l]=g[0],e[2*l+1]=g[1]}this._delaunator=new kn(e)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let f=0,u=i.length;f<u;++f){const h=o[f%3===2?f-2:f+1];(i[f]===-1||a[h]===-1)&&(a[h]=f)}for(let f=0,u=r.length;f<u;++f)s[r[f]]=f;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,r.length===2&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(n){return new Gf(this,n)}*neighbors(n){const{inedges:e,hull:i,_hullIndex:r,halfedges:o,triangles:a,collinear:s}=this;if(s){const c=s.indexOf(n);c>0&&(yield s[c-1]),c<s.length-1&&(yield s[c+1]);return}const f=e[n];if(f===-1)return;let u=f,h=-1;do{if(yield h=a[u],u=u%3===2?u-2:u+1,a[u]!==n)return;if(u=o[u],u===-1){const c=i[(r[n]+1)%i.length];c!==h&&(yield c);return}}while(u!==f)}find(n,e,i=0){if(n=+n,n!==n||(e=+e,e!==e))return-1;const r=i;let o;for(;(o=this._step(i,n,e))>=0&&o!==i&&o!==r;)i=o;return o}_step(n,e,i){const{inedges:r,hull:o,_hullIndex:a,halfedges:s,triangles:f,points:u}=this;if(r[n]===-1||!u.length)return(n+1)%(u.length>>1);let h=n,c=xt(e-u[n*2],2)+xt(i-u[n*2+1],2);const l=r[n];let d=l;do{let g=f[d];const _=xt(e-u[g*2],2)+xt(i-u[g*2+1],2);if(_<c&&(c=_,h=g),d=d%3===2?d-2:d+1,f[d]!==n)break;if(d=s[d],d===-1){if(d=o[(a[n]+1)%o.length],d!==g&&xt(e-u[d*2],2)+xt(i-u[d*2+1],2)<c)return d;break}}while(d!==l);return h}render(n){const e=n==null?n=new mt:void 0,{points:i,halfedges:r,triangles:o}=this;for(let a=0,s=r.length;a<s;++a){const f=r[a];if(f<a)continue;const u=o[a]*2,h=o[f]*2;n.moveTo(i[u],i[u+1]),n.lineTo(i[h],i[h+1])}return this.renderHull(n),e&&e.value()}renderPoints(n,e){e===void 0&&(!n||typeof n.moveTo!="function")&&(e=n,n=null),e=e==null?2:+e;const i=n==null?n=new mt:void 0,{points:r}=this;for(let o=0,a=r.length;o<a;o+=2){const s=r[o],f=r[o+1];n.moveTo(s+e,f),n.arc(s,f,e,0,Kf)}return i&&i.value()}renderHull(n){const e=n==null?n=new mt:void 0,{hull:i,points:r}=this,o=i[0]*2,a=i.length;n.moveTo(r[o],r[o+1]);for(let s=1;s<a;++s){const f=2*i[s];n.lineTo(r[f],r[f+1])}return n.closePath(),e&&e.value()}hullPolygon(){const n=new se;return this.renderHull(n),n.value()}renderTriangle(n,e){const i=e==null?e=new mt:void 0,{points:r,triangles:o}=this,a=o[n*=3]*2,s=o[n+1]*2,f=o[n+2]*2;return e.moveTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.lineTo(r[f],r[f+1]),e.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:n}=this;for(let e=0,i=n.length/3;e<i;++e)yield this.trianglePolygon(e)}trianglePolygon(n){const e=new se;return this.renderTriangle(n,e),e.value()}}function jf(t,n,e,i){const r=t.length,o=new Float64Array(r*2);for(let a=0;a<r;++a){const s=t[a];o[a*2]=n.call(i,s,a,t),o[a*2+1]=e.call(i,s,a,t)}return o}function*tu(t,n,e,i){let r=0;for(const o of t)yield n.call(i,o,r,t),yield e.call(i,o,r,t),++r}function nu(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $n(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function Tt(t){return t=$n(Math.abs(t)),t?t[1]:NaN}function eu(t,n){return function(e,i){for(var r=e.length,o=[],a=0,s=t[0],f=0;r>0&&s>0&&(f+s+1>i&&(s=Math.max(1,i-f)),o.push(e.substring(r-=s,r+s)),!((f+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}}function iu(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var ru=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ut(t){if(!(n=ru.exec(t)))throw new Error("invalid format: "+t);var n;return new Ne({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Ut.prototype=Ne.prototype;function Ne(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ne.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ou(t){t:for(var n=t.length,e=1,i=-1,r;e<n;++e)switch(t[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+t[e])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var er;function au(t,n){var e=$n(t,n);if(!e)return t+"";var i=e[0],r=e[1],o=r-(er=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+$n(t,Math.max(0,n+o-1))[0]}function ii(t,n){var e=$n(t,n);if(!e)return t+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const ri={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nu,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>ii(t*100,n),r:ii,s:au,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oi(t){return t}var ai=Array.prototype.map,si=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function su(t){var n=t.grouping===void 0||t.thousands===void 0?oi:eu(ai.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?oi:iu(ai.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Ut(c);var l=c.fill,d=c.align,g=c.sign,_=c.symbol,b=c.zero,m=c.width,v=c.comma,S=c.precision,E=c.trim,A=c.type;A==="n"?(v=!0,A="g"):ri[A]||(S===void 0&&(S=12),E=!0,A="g"),(b||l==="0"&&d==="=")&&(b=!0,l="0",d="=");var I=_==="$"?e:_==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",C=_==="$"?i:/[%p]/.test(A)?a:"",R=ri[A],M=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(w){var z=I,P=C,p,$,y;if(A==="c")P=R(w)+P,w="";else{w=+w;var x=w<0||1/w<0;if(w=isNaN(w)?f:R(Math.abs(w),S),E&&(w=ou(w)),x&&+w==0&&g!=="+"&&(x=!1),z=(x?g==="("?g:s:g==="-"||g==="("?"":g)+z,P=(A==="s"?si[8+er/3]:"")+P+(x&&g==="("?")":""),M){for(p=-1,$=w.length;++p<$;)if(y=w.charCodeAt(p),48>y||y>57){P=(y===46?r+w.slice(p+1):w.slice(p))+P,w=w.slice(0,p);break}}}v&&!b&&(w=n(w,1/0));var T=z.length+w.length+P.length,N=T<m?new Array(m-T+1).join(l):"";switch(v&&b&&(w=n(N+w,N.length?m-P.length:1/0),N=""),d){case"<":w=z+w+P+N;break;case"=":w=z+N+w+P;break;case"^":w=N.slice(0,T=N.length>>1)+z+w+P+N.slice(T);break;default:w=N+z+w+P;break}return o(w)}return k.toString=function(){return c+""},k}function h(c,l){var d=u((c=Ut(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Tt(l)/3)))*3,_=Math.pow(10,-g),b=si[8+g/3];return function(m){return d(_*m)+b}}return{format:u,formatPrefix:h}}var on,Ee,ir;fu({thousands:",",grouping:[3],currency:["$",""]});function fu(t){return on=su(t),Ee=on.format,ir=on.formatPrefix,on}function uu(t){return Math.max(0,-Tt(Math.abs(t)))}function cu(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tt(n)/3)))*3-Tt(Math.abs(t)))}function lu(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Tt(n)-Tt(t))+1}var hu=Math.PI,du=hu*2,gu=Math.abs,Te=Math.sqrt;function Z(){}function Sn(t,n){t&&ui.hasOwnProperty(t.type)&&ui[t.type](t,n)}var fi={Feature:function(t,n){Sn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)Sn(e[i].geometry,n)}},ui={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){fe(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)fe(e[i],n,0)},Polygon:function(t,n){ci(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)ci(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)Sn(e[i],n)}};function fe(t,n,e){var i=-1,r=t.length-e,o;for(n.lineStart();++i<r;)o=t[i],n.point(o[0],o[1],o[2]);n.lineEnd()}function ci(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)fe(t[e],n,1);n.polygonEnd()}function Rt(t,n){t&&fi.hasOwnProperty(t.type)?fi[t.type](t,n):Sn(t,n)}const pu=t=>t;var Un=new At,ue=new At,rr,or,ce,le,at={point:Z,lineStart:Z,lineEnd:Z,polygonStart:function(){at.lineStart=mu,at.lineEnd=yu},polygonEnd:function(){at.lineStart=at.lineEnd=at.point=Z,Un.add(gu(ue)),ue=new At},result:function(){var t=Un/2;return Un=new At,t}};function mu(){at.point=_u}function _u(t,n){at.point=ar,rr=ce=t,or=le=n}function ar(t,n){ue.add(le*t-ce*n),ce=t,le=n}function yu(){ar(rr,or)}var zt=1/0,An=zt,Gt=-zt,Nn=Gt,li={point:bu,lineStart:Z,lineEnd:Z,polygonStart:Z,polygonEnd:Z,result:function(){var t=[[zt,An],[Gt,Nn]];return Gt=Nn=-(An=zt=1/0),t}};function bu(t,n){t<zt&&(zt=t),t>Gt&&(Gt=t),n<An&&(An=n),n>Nn&&(Nn=n)}var he=0,de=0,Xt=0,En=0,Tn=0,$t=0,ge=0,pe=0,qt=0,sr,fr,J,j,Y={point:wt,lineStart:hi,lineEnd:di,polygonStart:function(){Y.lineStart=xu,Y.lineEnd=Mu},polygonEnd:function(){Y.point=wt,Y.lineStart=hi,Y.lineEnd=di},result:function(){var t=qt?[ge/qt,pe/qt]:$t?[En/$t,Tn/$t]:Xt?[he/Xt,de/Xt]:[NaN,NaN];return he=de=Xt=En=Tn=$t=ge=pe=qt=0,t}};function wt(t,n){he+=t,de+=n,++Xt}function hi(){Y.point=wu}function wu(t,n){Y.point=vu,wt(J=t,j=n)}function vu(t,n){var e=t-J,i=n-j,r=Te(e*e+i*i);En+=r*(J+t)/2,Tn+=r*(j+n)/2,$t+=r,wt(J=t,j=n)}function di(){Y.point=wt}function xu(){Y.point=ku}function Mu(){ur(sr,fr)}function ku(t,n){Y.point=ur,wt(sr=J=t,fr=j=n)}function ur(t,n){var e=t-J,i=n-j,r=Te(e*e+i*i);En+=r*(J+t)/2,Tn+=r*(j+n)/2,$t+=r,r=j*t-J*n,ge+=r*(J+t),pe+=r*(j+n),qt+=r*3,wt(J=t,j=n)}function cr(t){this._context=t}cr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,du);break}}},result:Z};var me=new At,Gn,lr,hr,Ot,Ht,Kt={point:Z,lineStart:function(){Kt.point=$u},lineEnd:function(){Gn&&dr(lr,hr),Kt.point=Z},polygonStart:function(){Gn=!0},polygonEnd:function(){Gn=null},result:function(){var t=+me;return me=new At,t}};function $u(t,n){Kt.point=dr,lr=Ot=t,hr=Ht=n}function dr(t,n){Ot-=t,Ht-=n,me.add(Te(Ot*Ot+Ht*Ht)),Ot=t,Ht=n}let gi,zn,pi,mi;class _i{constructor(n){this._append=n==null?gr:Su(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==pi||this._append!==zn){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,pi=i,zn=this._append,mi=this._,this._=r}this._+=mi;break}}}result(){const n=this._;return this._="",n.length?n:null}}function gr(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Su(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return gr;if(n!==gi){const e=10**n;gi=n,zn=function(r){let o=1;this._+=r[0];for(const a=r.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return zn}function gc(t,n){let e=3,i=4.5,r,o;function a(s){return s&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Rt(s,r(o))),o.result()}return a.area=function(s){return Rt(s,r(at)),at.result()},a.measure=function(s){return Rt(s,r(Kt)),Kt.result()},a.bounds=function(s){return Rt(s,r(li)),li.result()},a.centroid=function(s){return Rt(s,r(Y)),Y.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,pu):(t=s).stream,a):t},a.context=function(s){return arguments.length?(o=s==null?(n=null,new _i(e)):new cr(n=s),typeof i!="function"&&o.pointRadius(i),a):n},a.pointRadius=function(s){return arguments.length?(i=typeof s=="function"?s:(o.pointRadius(+s),+s),a):i},a.digits=function(s){if(!arguments.length)return e;if(s==null)e=null;else{const f=Math.floor(s);if(!(f>=0))throw new RangeError(`invalid digits: ${s}`);e=f}return n===null&&(o=new _i(e)),a},a.projection(t).digits(e).context(n)}function pc(t){return{stream:Au(t)}}function Au(t){return function(n){var e=new _e;for(var i in t)e[i]=t[i];return e.stream=n,e}}function _e(){}_e.prototype={constructor:_e,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ln(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Nu(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const yi=Symbol("implicit");function pr(){var t=new ze,n=[],e=[],i=yi;function r(o){let a=t.get(o);if(a===void 0){if(i!==yi)return i;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return r.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new ze;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return r},r.range=function(o){return arguments.length?(e=Array.from(o),r):e.slice()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return pr(n,e).unknown(i)},Ln.apply(r,arguments),r}function Eu(){var t=pr().unknown(void 0),n=t.domain,e=t.range,i=0,r=1,o,a,s=!1,f=0,u=0,h=.5;delete t.unknown;function c(){var l=n().length,d=r<i,g=d?r:i,_=d?i:r;o=(_-g)/Math.max(1,l-f+u*2),s&&(o=Math.floor(o)),g+=(_-g-o*(l-f))*h,a=o*(1-f),s&&(g=Math.round(g),a=Math.round(a));var b=Lr(l).map(function(m){return g+o*m});return e(d?b.reverse():b)}return t.domain=function(l){return arguments.length?(n(l),c()):n()},t.range=function(l){return arguments.length?([i,r]=l,i=+i,r=+r,c()):[i,r]},t.rangeRound=function(l){return[i,r]=l,i=+i,r=+r,s=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(s=!!l,c()):s},t.padding=function(l){return arguments.length?(f=Math.min(1,u=+l),c()):f},t.paddingInner=function(l){return arguments.length?(f=Math.min(1,l),c()):f},t.paddingOuter=function(l){return arguments.length?(u=+l,c()):u},t.align=function(l){return arguments.length?(h=Math.max(0,Math.min(1,l)),c()):h},t.copy=function(){return Eu(n(),[i,r]).round(s).paddingInner(f).paddingOuter(u).align(h)},Ln.apply(c(),arguments)}function Tu(t){return function(){return t}}function zu(t){return+t}var bi=[0,1];function ct(t){return t}function ye(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Tu(isNaN(n)?NaN:.5)}function Iu(t,n){var e;return t>n&&(e=t,t=n,n=e),function(i){return Math.max(t,Math.min(n,i))}}function Cu(t,n,e){var i=t[0],r=t[1],o=n[0],a=n[1];return r<i?(i=ye(r,i),o=e(a,o)):(i=ye(i,r),o=e(o,a)),function(s){return o(i(s))}}function Ru(t,n,e){var i=Math.min(t.length,n.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)r[a]=ye(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(s){var f=$r(t,s,1,i)-1;return o[f](r[f](s))}}function mr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _r(){var t=bi,n=bi,e=Rn,i,r,o,a=ct,s,f,u;function h(){var l=Math.min(t.length,n.length);return a!==ct&&(a=Iu(t[0],t[l-1])),s=l>2?Ru:Cu,f=u=null,c}function c(l){return l==null||isNaN(l=+l)?o:(f||(f=s(t.map(i),n,e)))(i(a(l)))}return c.invert=function(l){return a(r((u||(u=s(n,t.map(i),G)))(l)))},c.domain=function(l){return arguments.length?(t=Array.from(l,zu),h()):t.slice()},c.range=function(l){return arguments.length?(n=Array.from(l),h()):n.slice()},c.rangeRound=function(l){return n=Array.from(l),e=Yi,h()},c.clamp=function(l){return arguments.length?(a=l?!0:ct,h()):a!==ct},c.interpolate=function(l){return arguments.length?(e=l,h()):e},c.unknown=function(l){return arguments.length?(o=l,c):o},function(l,d){return i=l,r=d,h()}}function Pu(){return _r()(ct,ct)}function Fu(t,n,e,i){var r=Rr(t,n,e),o;switch(i=Ut(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return i.precision==null&&!isNaN(o=cu(r,a))&&(i.precision=o),ir(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=lu(r,Math.max(Math.abs(t),Math.abs(n))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=uu(r))&&(i.precision=o-(i.type==="%")*2);break}}return Ee(i)}function yr(t){var n=t.domain;return t.ticks=function(e){var i=n();return gn(i[0],i[i.length-1],e??10)},t.tickFormat=function(e,i){var r=n();return Fu(r[0],r[r.length-1],e??10,i)},t.nice=function(e){e==null&&(e=10);var i=n(),r=0,o=i.length-1,a=i[r],s=i[o],f,u,h=10;for(s<a&&(u=a,a=s,s=u,u=r,r=o,o=u);h-- >0;){if(u=pn(a,s,e),u===f)return i[r]=a,i[o]=s,n(i);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;f=u}return t},t}function Lu(){var t=Pu();return t.copy=function(){return mr(t,Lu())},Ln.apply(t,arguments),yr(t)}function Du(t,n){t=t.slice();var e=0,i=t.length-1,r=t[e],o=t[i],a;return o<r&&(a=e,e=i,i=a,a=r,r=o,o=a),t[e]=n.floor(r),t[i]=n.ceil(o),t}function wi(t){return Math.log(t)}function vi(t){return Math.exp(t)}function Xu(t){return-Math.log(-t)}function qu(t){return-Math.exp(-t)}function Ou(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Hu(t){return t===10?Ou:t===Math.E?Math.exp:n=>Math.pow(t,n)}function Vu(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function xi(t){return(n,e)=>-t(-n,e)}function Yu(t){const n=t(wi,vi),e=n.domain;let i=10,r,o;function a(){return r=Vu(i),o=Hu(i),e()[0]<0?(r=xi(r),o=xi(o),t(Xu,qu)):t(wi,vi),n}return n.base=function(s){return arguments.length?(i=+s,a()):i},n.domain=function(s){return arguments.length?(e(s),a()):e()},n.ticks=s=>{const f=e();let u=f[0],h=f[f.length-1];const c=h<u;c&&([u,h]=[h,u]);let l=r(u),d=r(h),g,_;const b=s==null?10:+s;let m=[];if(!(i%1)&&d-l<b){if(l=Math.floor(l),d=Math.ceil(d),u>0){for(;l<=d;++l)for(g=1;g<i;++g)if(_=l<0?g/o(-l):g*o(l),!(_<u)){if(_>h)break;m.push(_)}}else for(;l<=d;++l)for(g=i-1;g>=1;--g)if(_=l>0?g/o(-l):g*o(l),!(_<u)){if(_>h)break;m.push(_)}m.length*2<b&&(m=gn(u,h,b))}else m=gn(l,d,Math.min(d-l,b)).map(o);return c?m.reverse():m},n.tickFormat=(s,f)=>{if(s==null&&(s=10),f==null&&(f=i===10?"s":","),typeof f!="function"&&(!(i%1)&&(f=Ut(f)).precision==null&&(f.trim=!0),f=Ee(f)),s===1/0)return f;const u=Math.max(1,i*s/n.ticks().length);return h=>{let c=h/o(Math.round(r(h)));return c*i<i-.5&&(c*=i),c<=u?f(h):""}},n.nice=()=>e(Du(e(),{floor:s=>o(Math.floor(r(s))),ceil:s=>o(Math.ceil(r(s)))})),n}function Bu(){const t=Yu(_r()).domain([1,10]);return t.copy=()=>mr(t,Bu()).base(t.base()),Ln.apply(t,arguments),t}function Uu(){var t=0,n=1,e,i,r,o,a=ct,s=!1,f;function u(c){return c==null||isNaN(c=+c)?f:a(r===0?.5:(c=(o(c)-e)*r,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,n]=c,e=o(t=+t),i=o(n=+n),r=e===i?0:1/(i-e),u):[t,n]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(a=c,u):a};function h(c){return function(l){var d,g;return arguments.length?([d,g]=l,a=c(d,g),u):[a(0),a(1)]}}return u.range=h(Rn),u.rangeRound=h(Yi),u.unknown=function(c){return arguments.length?(f=c,u):f},function(c){return o=c,e=c(t),i=c(n),r=e===i?0:1/(i-e),u}}function Gu(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ku(){var t=yr(Uu()(ct));return t.copy=function(){return Gu(t,Ku())},Nu.apply(t,arguments)}function Jt(t){for(var n=t.length/6|0,e=new Array(n),i=0;i<n;)e[i]="#"+t.slice(i*6,++i*6);return e}const Zu=t=>Ga(t[t.length-1]);var Qu=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Jt);const mc=Zu(Qu);function Dn(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const _c=Dn(Jt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Dn(Jt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Dn(Jt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Dn(Jt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Mt(t){return function(){return t}}function Wu(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new Mf(n)}function Ju(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function br(t){this._context=t}br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function ju(t){return new br(t)}function tc(t){return t[0]}function nc(t){return t[1]}function yc(t,n){var e=Mt(!0),i=null,r=ju,o=null,a=Wu(s);t=typeof t=="function"?t:t===void 0?tc:Mt(t),n=typeof n=="function"?n:n===void 0?nc:Mt(n);function s(f){var u,h=(f=Ju(f)).length,c,l=!1,d;for(i==null&&(o=r(d=a())),u=0;u<=h;++u)!(u<h&&e(c=f[u],u,f))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(c,u,f),+n(c,u,f));if(d)return o=null,d+""||null}return s.x=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),s):t},s.y=function(f){return arguments.length?(n=typeof f=="function"?f:Mt(+f),s):n},s.defined=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(!!f),s):e},s.curve=function(f){return arguments.length?(r=f,i!=null&&(o=r(i)),s):r},s.context=function(f){return arguments.length?(f==null?i=o=null:o=r(i=f),s):i},s}function Mi(t){return t<0?-1:1}function ki(t,n,e){var i=t._x1-t._x0,r=n-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(e-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Mi(o)+Mi(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function $i(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Kn(t,n,e){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*n,o-s,a-s*e,o,a)}function In(t){this._context=t}In.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kn(this,this._t0,$i(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Kn(this,$i(this,e=ki(this,t,n)),e);break;default:Kn(this,this._t0,e=ki(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};Object.create(In.prototype).point=function(t,n){In.prototype.point.call(this,n,t)};function bc(t){return new In(t)}const an=t=>()=>t;function ec(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function st(t,n,e){this.k=t,this.x=n,this.y=e}st.prototype={constructor:st,scale:function(t){return t===1?this:new st(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new st(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wr=new st(1,0,0);st.prototype;function Zn(t){t.stopImmediatePropagation()}function Pt(t){t.preventDefault(),t.stopImmediatePropagation()}function ic(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function rc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Si(){return this.__zoom||wr}function oc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ac(){return navigator.maxTouchPoints||"ontouchstart"in this}function sc(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function wc(){var t=ic,n=rc,e=sc,i=oc,r=ac,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,f=fs,u=we("start","zoom","end"),h,c,l,d=500,g=150,_=0,b=10;function m(p){p.property("__zoom",Si).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",k).filter(r).on("touchstart.zoom",w).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,$,y,x){var T=p.selection?p.selection():p;T.property("__zoom",Si),p!==T?A(p,$,y,x):T.interrupt().each(function(){I(this,arguments).event(x).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},m.scaleBy=function(p,$,y,x){m.scaleTo(p,function(){var T=this.__zoom.k,N=typeof $=="function"?$.apply(this,arguments):$;return T*N},y,x)},m.scaleTo=function(p,$,y,x){m.transform(p,function(){var T=n.apply(this,arguments),N=this.__zoom,F=y==null?E(T):typeof y=="function"?y.apply(this,arguments):y,L=N.invert(F),D=typeof $=="function"?$.apply(this,arguments):$;return e(S(v(N,D),F,L),T,a)},y,x)},m.translateBy=function(p,$,y,x){m.transform(p,function(){return e(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof y=="function"?y.apply(this,arguments):y),n.apply(this,arguments),a)},null,x)},m.translateTo=function(p,$,y,x,T){m.transform(p,function(){var N=n.apply(this,arguments),F=this.__zoom,L=x==null?E(N):typeof x=="function"?x.apply(this,arguments):x;return e(wr.translate(L[0],L[1]).scale(F.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof y=="function"?-y.apply(this,arguments):-y),N,a)},x,T)};function v(p,$){return $=Math.max(o[0],Math.min(o[1],$)),$===p.k?p:new st($,p.x,p.y)}function S(p,$,y){var x=$[0]-y[0]*p.k,T=$[1]-y[1]*p.k;return x===p.x&&T===p.y?p:new st(p.k,x,T)}function E(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function A(p,$,y,x){p.on("start.zoom",function(){I(this,arguments).event(x).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(x).end()}).tween("zoom",function(){var T=this,N=arguments,F=I(T,N).event(x),L=n.apply(T,N),D=y==null?E(L):typeof y=="function"?y.apply(T,N):y,W=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),X=T.__zoom,B=typeof $=="function"?$.apply(T,N):$,et=f(X.invert(D).concat(W/X.k),B.invert(D).concat(W/B.k));return function(U){if(U===1)U=B;else{var it=et(U),Xn=W/it[2];U=new st(Xn,D[0]-it[0]*Xn,D[1]-it[1]*Xn)}F.zoom(null,U)}})}function I(p,$,y){return!y&&p.__zooming||new C(p,$)}function C(p,$){this.that=p,this.args=$,this.active=0,this.sourceEvent=null,this.extent=n.apply(p,$),this.taps=0}C.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,$){return this.mouse&&p!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var $=gt(this.that).datum();u.call(p,this.that,new ec(p,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),$)}};function R(p,...$){if(!t.apply(this,arguments))return;var y=I(this,$).event(p),x=this.__zoom,T=Math.max(o[0],Math.min(o[1],x.k*Math.pow(2,i.apply(this,arguments)))),N=lt(p);if(y.wheel)(y.mouse[0][0]!==N[0]||y.mouse[0][1]!==N[1])&&(y.mouse[1]=x.invert(y.mouse[0]=N)),clearTimeout(y.wheel);else{if(x.k===T)return;y.mouse=[N,x.invert(N)],hn(this),y.start()}Pt(p),y.wheel=setTimeout(F,g),y.zoom("mouse",e(S(v(x,T),y.mouse[0],y.mouse[1]),y.extent,a));function F(){y.wheel=null,y.end()}}function M(p,...$){if(l||!t.apply(this,arguments))return;var y=p.currentTarget,x=I(this,$,!0).event(p),T=gt(p.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",W,!0),N=lt(p,y),F=p.clientX,L=p.clientY;Aa(p.view),Zn(p),x.mouse=[N,this.__zoom.invert(N)],hn(this),x.start();function D(X){if(Pt(X),!x.moved){var B=X.clientX-F,et=X.clientY-L;x.moved=B*B+et*et>_}x.event(X).zoom("mouse",e(S(x.that.__zoom,x.mouse[0]=lt(X,y),x.mouse[1]),x.extent,a))}function W(X){T.on("mousemove.zoom mouseup.zoom",null),Na(X.view,x.moved),Pt(X),x.event(X).end()}}function k(p,...$){if(t.apply(this,arguments)){var y=this.__zoom,x=lt(p.changedTouches?p.changedTouches[0]:p,this),T=y.invert(x),N=y.k*(p.shiftKey?.5:2),F=e(S(v(y,N),x,T),n.apply(this,$),a);Pt(p),s>0?gt(this).transition().duration(s).call(A,F,x,p):gt(this).call(m.transform,F,x,p)}}function w(p,...$){if(t.apply(this,arguments)){var y=p.touches,x=y.length,T=I(this,$,p.changedTouches.length===x).event(p),N,F,L,D;for(Zn(p),F=0;F<x;++F)L=y[F],D=lt(L,this),D=[D,this.__zoom.invert(D),L.identifier],T.touch0?!T.touch1&&T.touch0[2]!==D[2]&&(T.touch1=D,T.taps=0):(T.touch0=D,N=!0,T.taps=1+!!h);h&&(h=clearTimeout(h)),N&&(T.taps<2&&(c=D[0],h=setTimeout(function(){h=null},d)),hn(this),T.start())}}function z(p,...$){if(this.__zooming){var y=I(this,$).event(p),x=p.changedTouches,T=x.length,N,F,L,D;for(Pt(p),N=0;N<T;++N)F=x[N],L=lt(F,this),y.touch0&&y.touch0[2]===F.identifier?y.touch0[0]=L:y.touch1&&y.touch1[2]===F.identifier&&(y.touch1[0]=L);if(F=y.that.__zoom,y.touch1){var W=y.touch0[0],X=y.touch0[1],B=y.touch1[0],et=y.touch1[1],U=(U=B[0]-W[0])*U+(U=B[1]-W[1])*U,it=(it=et[0]-X[0])*it+(it=et[1]-X[1])*it;F=v(F,Math.sqrt(U/it)),L=[(W[0]+B[0])/2,(W[1]+B[1])/2],D=[(X[0]+et[0])/2,(X[1]+et[1])/2]}else if(y.touch0)L=y.touch0[0],D=y.touch0[1];else return;y.zoom("touch",e(S(F,L,D),y.extent,a))}}function P(p,...$){if(this.__zooming){var y=I(this,$).event(p),x=p.changedTouches,T=x.length,N,F;for(Zn(p),l&&clearTimeout(l),l=setTimeout(function(){l=null},d),N=0;N<T;++N)F=x[N],y.touch0&&y.touch0[2]===F.identifier?delete y.touch0:y.touch1&&y.touch1[2]===F.identifier&&delete y.touch1;if(y.touch1&&!y.touch0&&(y.touch0=y.touch1,delete y.touch1),y.touch0)y.touch0[1]=this.__zoom.invert(y.touch0[0]);else if(y.end(),y.taps===2&&(F=lt(F,this),Math.hypot(c[0]-F[0],c[1]-F[1])<b)){var L=gt(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(i=typeof p=="function"?p:an(+p),m):i},m.filter=function(p){return arguments.length?(t=typeof p=="function"?p:an(!!p),m):t},m.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:an(!!p),m):r},m.extent=function(p){return arguments.length?(n=typeof p=="function"?p:an([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):n},m.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],m):[o[0],o[1]]},m.translateExtent=function(p){return arguments.length?(a[0][0]=+p[0][0],a[1][0]=+p[1][0],a[0][1]=+p[0][1],a[1][1]=+p[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(p){return arguments.length?(e=p,m):e},m.duration=function(p){return arguments.length?(s=+p,m):s},m.interpolate=function(p){return arguments.length?(f=p,m):f},m.on=function(){var p=u.on.apply(u,arguments);return p===u?m:p},m.clickDistance=function(p){return arguments.length?(_=(p=+p)*p,m):Math.sqrt(_)},m.tapDistance=function(p){return arguments.length?(b=+p,m):b},m}export{dc as C,nr as D,mc as Y,cc as a,lc as b,wr as c,yc as d,uc as e,Ee as f,fc as g,Eu as h,gc as i,Ku as j,Ar as k,Lu as l,bc as m,Bu as n,lt as p,Lr as r,gt as s,pc as t,_c as v,wc as z};
//# sourceMappingURL=vendor-d3-CBiZgAeM.js.map
